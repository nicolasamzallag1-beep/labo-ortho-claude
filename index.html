<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Le Labo d‚ÄôOrtho de Claude</title>
  <link rel="stylesheet" href="styles.css?v=1"/>
</head>

<body>
  <a class="skip" href="#main">Aller au contenu</a>

  <header class="siteHeader">
    <div class="brand">
      <div class="logoDot" aria-hidden="true"></div>
      <div>
        <h1>üß† Le Labo d‚ÄôOrtho de Claude</h1>
        <p class="subtitle">Un entra√Ænement l√©ger, s√©rieux, et souriant ‚Äî pour Claude (79 ans)</p>
      </div>
    </div>

    <div class="topControls">
      <button id="btnNight" class="btn ghost" type="button" title="Mode nuit">üåô Mode nuit</button>
      <button id="btnBig" class="btn ghost" type="button" title="Tr√®s grand texte">üîé Tr√®s grand texte</button>

      <div class="audioCtl">
        <button id="btnSound" class="btn ghost" type="button">üîä Son : OFF</button>
        <label class="vol">
          <span>Volume</span>
          <input id="vol" type="range" min="0" max="100" value="35" />
        </label>
      </div>
    </div>
  </header>

  <main id="main" class="mainWrap">
    <!-- HOME -->
    <section id="screenHome" class="screen">
      <div class="grid2">
        <div class="card hero">
          <h2>Bonjour Claude üëã</h2>
          <p>
            Choisis une √©preuve. Tu peux faire <strong>10, 20 ou 30 questions</strong>.
            Le but : rester actif, se faire plaisir, et progresser en douceur.
          </p>
          <div class="miniRow">
            <button id="btnDashboard" class="btn primary">üìä Tableau de bord</button>
            <button id="btnAbout" class="btn">‚ÑπÔ∏è √Ä propos</button>
            <button id="btnTips" class="btn">‚úÖ Conseils</button>
          </div>
          <p class="hint">
            Astuce : le son peut n√©cessiter un premier clic (r√®gle du navigateur).
          </p>
        </div>

        <div class="card profile">
          <h3>Profil</h3>
          <div class="profileRow">
            <div class="avatar" aria-hidden="true">C</div>
            <div>
              <div class="k">Joueur</div>
              <div class="v" id="profileName">Claude</div>
            </div>
          </div>
          <div class="profileStats">
            <div class="pill"><span class="k">Meilleur global</span> <span class="v" id="bestGlobal">0</span></div>
            <div class="pill"><span class="k">Temps moyen</span> <span class="v" id="avgTime">‚Äî</span></div>
            <div class="pill"><span class="k">Sessions (10 derni√®res)</span> <span class="v" id="sessCount">0</span></div>
          </div>
          <button id="btnResetAll" class="btn danger">üßπ R√©initialiser les donn√©es (local)</button>
          <p class="hint small">R√©initialise scores, historique et questions (seed).</p>
        </div>
      </div>

      <h2 class="sectionTitle">Les 4 √©preuves</h2>

      <div class="cards4" role="list">
        <!-- Card 1 -->
        <article class="card gameCard" role="listitem">
          <img class="cardImg" src="assets/family1.jpeg" alt="Illustration √©preuve 1"/>
          <div class="cardBody">
            <h3>1) Texte √† trous</h3>
            <p>Clart√©, grammaire, connecteurs, vocabulaire courant. Feedback p√©dagogique.</p>
            <div class="meta">
              <span class="tag">Difficult√© : <strong>Facile</strong></span>
              <span class="tag">QCM 4 choix</span>
            </div>
            <div class="miniRow">
              <button class="btn primary" data-open-config="cloze">Jouer</button>
              <button class="btn ghost" data-reset-bank="cloze">‚ôªÔ∏é Nouvelles 200 questions</button>
            </div>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="card gameCard" role="listitem">
          <img class="cardImg" src="assets/family2.jpeg" alt="Illustration √©preuve 2"/>
          <div class="cardBody">
            <h3>2) Reformulation / Synonymes</h3>
            <p>Souplesse du langage : phrases √©quivalentes, synonymes proches, compr√©hension fine.</p>
            <div class="meta">
              <span class="tag">Difficult√© : <strong>Facile</strong></span>
              <span class="tag">1 bonne r√©ponse</span>
            </div>
            <div class="miniRow">
              <button class="btn primary" data-open-config="syn">Jouer</button>
              <button class="btn ghost" data-reset-bank="syn">‚ôªÔ∏é Nouvelles 200 questions</button>
            </div>
          </div>
        </article>

        <!-- Card 3 -->
        <article class="card gameCard" role="listitem">
          <img class="cardImg" src="assets/family3.jpeg" alt="Illustration √©preuve 3"/>
          <div class="cardBody">
            <h3>3) M√©moire de phrases</h3>
            <p>On lit une phrase 6‚Äì10s puis on la reconstruit en cliquant les mots dans l‚Äôordre.</p>
            <div class="meta">
              <span class="tag">Difficult√© : <strong>Facile</strong></span>
              <span class="tag">M√©moire verbale douce</span>
            </div>
            <div class="miniRow">
              <button class="btn primary" data-open-config="memory">Jouer</button>
              <button class="btn ghost" data-reset-bank="memory">‚ôªÔ∏é Nouvelles 200 questions</button>
            </div>
          </div>
        </article>

        <!-- Card 4 -->
        <article class="card gameCard" role="listitem">
          <img class="cardImg" src="assets/family4.jpeg" alt="Illustration √©preuve 4"/>
          <div class="cardBody">
            <h3>4) Vitesse & articulation</h3>
            <p>Virelangues amusants + chrono doux + auto-√©valuation + petite question d‚Äôattention.</p>
            <div class="meta">
              <span class="tag">Difficult√© : <strong>Facile</strong></span>
              <span class="tag">Sans micro</span>
            </div>
            <div class="miniRow">
              <button class="btn primary" data-open-config="speech">Jouer</button>
              <button class="btn ghost" data-reset-bank="speech">‚ôªÔ∏é Nouvelles 200 questions</button>
            </div>
          </div>
        </article>
      </div>
    </section>

    <!-- CONFIG -->
    <section id="screenConfig" class="screen hidden" aria-labelledby="cfgTitle">
      <div class="card">
        <div class="topRow">
          <h2 id="cfgTitle">Configurer la session</h2>
          <button id="btnCfgBack" class="btn ghost">‚Üê Retour</button>
        </div>

        <div class="cfgGrid">
          <div class="cfgBlock">
            <h3>√âpreuve</h3>
            <div id="cfgGameName" class="bigLabel">‚Äî</div>
            <p id="cfgGameDesc" class="hint">‚Äî</p>
          </div>

          <div class="cfgBlock">
            <h3>Nombre de questions</h3>
            <div class="seg">
              <button class="segBtn" data-qcount="10">10</button>
              <button class="segBtn" data-qcount="20">20</button>
              <button class="segBtn" data-qcount="30">30</button>
            </div>
            <p class="hint small">Tu peux refaire autant de sessions que tu veux.</p>
          </div>

          <div class="cfgBlock">
            <h3>Difficult√©</h3>
            <div class="seg">
              <button class="segBtn" data-diff="easy">Facile</button>
              <button class="segBtn" data-diff="medium">Moyen</button>
              <button class="segBtn" data-diff="plus">+</button>
            </div>
            <p class="hint small">Par d√©faut : Facile.</p>
          </div>

          <div class="cfgBlock">
            <h3>Mode entra√Ænement</h3>
            <label class="toggle">
              <input id="cfgTraining" type="checkbox"/>
              <span>Chrono informatif (sans pression)</span>
            </label>
            <label class="toggle">
              <input id="cfgStreak" type="checkbox" checked/>
              <span>Petit bonus de s√©rie (streak)</span>
            </label>
            <label class="toggle">
              <input id="cfgMouseOnly" type="checkbox"/>
              <span>Mode ‚Äúsouris uniquement‚Äù (gros focus cliquable)</span>
            </label>
          </div>
        </div>

        <div class="cfgActions">
          <button id="btnStart" class="btn primary">‚ñ∂Ô∏è D√©marrer</button>
          <button id="btnResetThisBank" class="btn">‚ôªÔ∏é R√©initialiser les 200 questions (seed)</button>
        </div>
      </div>
    </section>

    <!-- GAME -->
    <section id="screenGame" class="screen hidden" aria-live="polite">
      <div class="card">
        <div class="gameTop">
          <div>
            <h2 id="gameTitle">‚Äî</h2>
            <p id="gameSub" class="hint">‚Äî</p>
          </div>

          <div class="gamePills">
            <div class="pill"><span class="k">Score</span> <span class="v" id="uiScore">0</span></div>
            <div class="pill"><span class="k">S√©rie</span> <span class="v" id="uiStreak">0</span></div>
            <div class="pill"><span class="k">Question</span> <span class="v"><span id="uiIndex">1</span>/<span id="uiTotal">10</span></span></div>
            <div class="pill"><span class="k">Temps</span> <span class="v" id="uiTime">00:00</span></div>
          </div>
        </div>

        <div class="progressBar" aria-hidden="true">
          <div id="progFill" class="progFill"></div>
        </div>

        <div id="gameArea" class="gameArea">
          <!-- rendu dynamique -->
        </div>

        <div class="gameActions">
          <button id="btnPause" class="btn">‚è∏ Pause</button>
          <button id="btnQuit" class="btn ghost">‚üµ Quitter</button>
        </div>
      </div>

      <div id="pauseOverlay" class="overlay hidden" role="dialog" aria-modal="true" aria-labelledby="pauseTitle">
        <div class="modal">
          <h3 id="pauseTitle">Pause</h3>
          <p class="hint">Tu peux reprendre tranquillement.</p>
          <div class="miniRow">
            <button id="btnResume" class="btn primary">Reprendre</button>
            <button id="btnQuit2" class="btn ghost">Quitter</button>
          </div>
        </div>
      </div>
    </section>

    <!-- DASHBOARD -->
    <section id="screenDashboard" class="screen hidden">
      <div class="card">
        <div class="topRow">
          <h2>üìä Tableau de bord de Claude</h2>
          <button id="btnDashBack" class="btn ghost">‚Üê Retour</button>
        </div>

        <div class="dashGrid">
          <div class="dashCard">
            <h3>Score global</h3>
            <div class="bigNum" id="dashGlobal">0</div>
            <p class="hint">Somme des meilleurs scores par √©preuve (sur 30 questions).</p>
          </div>

          <div class="dashCard">
            <h3>Meilleurs scores</h3>
            <ul class="list">
              <li><span>Texte √† trous</span> <strong id="bestCloze">0</strong></li>
              <li><span>Synonymes</span> <strong id="bestSyn">0</strong></li>
              <li><span>M√©moire</span> <strong id="bestMem">0</strong></li>
              <li><span>Articulation</span> <strong id="bestSpeech">0</strong></li>
            </ul>
          </div>

          <div class="dashCard">
            <h3>Badges (doux)</h3>
            <div id="badges" class="badges"></div>
            <p class="hint small">Jamais culpabilisant : juste des encouragements.</p>
          </div>
        </div>

        <div class="dashCard">
          <h3>10 derni√®res sessions</h3>
          <div class="tableWrap">
            <table class="tbl">
              <thead>
                <tr>
                  <th>Date</th>
                  <th>√âpreuve</th>
                  <th>Score</th>
                  <th>Questions</th>
                  <th>Dur√©e</th>
                </tr>
              </thead>
              <tbody id="sessRows"></tbody>
            </table>
          </div>
          <p class="hint small">Historique stock√© en local (sur cet appareil).</p>
        </div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="screenAbout" class="screen hidden">
      <div class="card">
        <div class="topRow">
          <h2>‚ÑπÔ∏è √Ä propos</h2>
          <button id="btnAboutBack" class="btn ghost">‚Üê Retour</button>
        </div>

        <h3>Objectif</h3>
        <p>
          <strong>Le Labo d‚ÄôOrtho de Claude</strong> est un mini-jeu web statique (sans serveur),
          con√ßu pour travailler doucement : <em>lexique, syntaxe, attention, m√©moire de travail</em>
          et <em>fluidit√© de lecture</em>, avec un ton chaleureux et encourageant.
        </p>

        <h3>M√©thode</h3>
        <p>
          Les exercices proposent des t√¢ches courtes, vari√©es et progressives : choix multiples, reformulation,
          reconstruction de phrases, et lecture amusante. Un feedback simple accompagne chaque r√©ponse
          pour renforcer la compr√©hension.
        </p>
        <p>
          Les questions sont g√©n√©r√©es √† partir de banques de mots et de mod√®les, puis fix√©es dans le temps gr√¢ce
          √† une g√©n√©ration <em>stable</em> (seed) sauvegard√©e en local : cela permet une coh√©rence d‚Äôune session √† l‚Äôautre,
          tout en gardant la possibilit√© de renouveler les 200 items.
        </p>

        <h3>Disclaimer</h3>
        <p class="warn">
          Ce jeu est <strong>ludique</strong> et ne remplace pas un professionnel de sant√©.
          Il ne pr√©tend pas diagnostiquer ni ‚Äúsoigner‚Äù quoi que ce soit.
        </p>
      </div>
    </section>

    <!-- TIPS -->
    <section id="screenTips" class="screen hidden">
      <div class="card">
        <div class="topRow">
          <h2>‚úÖ Conseils d‚Äôutilisation</h2>
          <button id="btnTipsBack" class="btn ghost">‚Üê Retour</button>
        </div>

        <ul class="tips">
          <li>Privil√©gie des sessions courtes (10 questions) et r√©guli√®res.</li>
          <li>Si une question semble ‚Äúdure‚Äù, c‚Äôest OK : l‚Äôimportant est d‚Äôessayer.</li>
          <li>En ‚ÄúTr√®s grand texte‚Äù, tout devient plus confortable.</li>
          <li>Le mode ‚ÄúChrono informatif‚Äù donne un rep√®re‚Ä¶ sans stress.</li>
          <li>Tu peux refaire une √©preuve autant de fois que tu veux.</li>
          <li>Si tu veux renouveler : ‚Äú‚ôªÔ∏é Nouvelles 200 questions‚Äù.</li>
        </ul>

        <p class="hint">
          Petite r√®gle d‚Äôor : <strong>on vise le plaisir + la r√©gularit√©</strong>, pas la perfection.
        </p>
      </div>
    </section>
  </main>

  <script src="data.js?v=1"></script>
  <script src="app.js?v=1"></script>
</body>
</html>
